cmake_minimum_required(VERSION 3.0)
set(CMAKE_CXX_STANDARD 14)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/build)

project (RobotFlier)

file(GLOB_RECURSE SOURCES "src/*.cpp")
file(GLOB_RECURSE HEADERS "src/*.h")

set (INCLUDE_DIRS "")
foreach (_headerFile ${HEADERS})
  get_filename_component(_dir ${_headerFile} PATH)
  list (APPEND INCLUDE_DIRS ${_dir})
endforeach()
list(REMOVE_DUPLICATES INCLUDE_DIRS)

find_library(ALLEGRO_LIBRARY liballegro.dll.a)
find_library(ALLEGRO_ACODEC_LIBRARY liballegro_acodec.dll.a)
find_library(ALLEGRO_AUDIO_LIBRARY liballegro_audio.dll.a)
find_library(ALLEGRO_COLOR_LIBRARY liballegro_color.dll.a)
find_library(ALLEGRO_DIALOG_LIBRARY liballegro_dialog.dll.a)
find_library(ALLEGRO_FONT_LIBRARY liballegro_font.dll.a)
find_library(ALLEGRO_IMAGE_LIBRARY liballegro_image.dll.a)
find_library(ALLEGRO_MAIN_LIBRARY liballegro_main.dll.a)
find_library(ALLEGRO_PRIMITIVES_LIBRARY liballegro_primitives.dll.a)
find_library(ALLEGRO_TTF_LIBRARY liballegro_ttf.dll.a)

add_executable (RobotFlier ${SOURCES})
target_link_libraries(RobotFlier PRIVATE ${ALLEGRO_LIBRARY})
target_link_libraries(RobotFlier PRIVATE ${ALLEGRO_ACODEC_LIBRARY})
target_link_libraries(RobotFlier PRIVATE ${ALLEGRO_AUDIO_LIBRARY})
target_link_libraries(RobotFlier PRIVATE ${ALLEGRO_COLOR_LIBRARY})
target_link_libraries(RobotFlier PRIVATE ${ALLEGRO_DIALOG_LIBRARY})
target_link_libraries(RobotFlier PRIVATE ${ALLEGRO_FONT_LIBRARY})
target_link_libraries(RobotFlier PRIVATE ${ALLEGRO_IMAGE_LIBRARY})
target_link_libraries(RobotFlier PRIVATE ${ALLEGRO_MAIN_LIBRARY})
target_link_libraries(RobotFlier PRIVATE ${ALLEGRO_PRIMITIVES_LIBRARY})
target_link_libraries(RobotFlier PRIVATE ${ALLEGRO_TTF_LIBRARY})
target_include_directories(RobotFlier PRIVATE ${INCLUDE_DIRS})
